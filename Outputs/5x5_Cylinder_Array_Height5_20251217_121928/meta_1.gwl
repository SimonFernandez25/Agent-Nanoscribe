%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
% Unique Meta-Atom (Cylinder)
% Objective: 63x
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
var $objective = 63
local $height = 5.0
local $radius = 1.0
local $voxel_lateral = 0.1
local $axial_step = 0.3
local $axial_overlap = 0.5
local $dz = $axial_step * (1 - $axial_overlap)
local $slices = ceil($height / $dz)
local $hatch = $voxel_lateral

XOffset 0
YOffset 0
ZOffset 0
PowerScaling 0.6
LaserPower 40
ScanSpeed 100
LineNumber 1

local $slice = 0
local $theta = 0
local $x1 = 0
local $y1 = 0
local $x2 = 0
local $y2 = 0

for $slice = 0 to $slices - 1
    if $slice > 0
        AddZOffset $dz
    end
    for $theta = 0 to 360 step 10
        set $x1 = $radius * cos($theta * 3.1415926 / 180)
        set $y1 = $radius * sin($theta * 3.1415926 / 180)
        set $x2 = $x1
        set $y2 = $y1
        $x1 $y1 0
        $x2 $y2 0
        Write
    end
end

ZOffset 0
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
% End of file
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%